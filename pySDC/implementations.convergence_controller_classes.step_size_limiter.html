<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>implementations.convergence_controller_classes.step_size_limiter module &#8212; pySDC 5.5.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=2bf1fcf8" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=c40552b6" />
    
    <script src="../_static/documentation_options.js?v=3005adad"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="implementations.convergence_controller_classes.store_uold module" href="implementations.convergence_controller_classes.store_uold.html" />
    <link rel="prev" title="implementations.convergence_controller_classes.spread_step_sizes module" href="implementations.convergence_controller_classes.spread_step_sizes.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="implementations.convergence_controller_classes.store_uold.html" title="implementations.convergence_controller_classes.store_uold module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="implementations.convergence_controller_classes.spread_step_sizes.html" title="implementations.convergence_controller_classes.spread_step_sizes module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pySDC 5.5.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="implementations.html" >implementations package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="implementations.convergence_controller_classes.html" accesskey="U">implementations.convergence_controller_classes package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">implementations.convergence_controller_classes.step_size_limiter module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-implementations.convergence_controller_classes.step_size_limiter">
<span id="implementations-convergence-controller-classes-step-size-limiter-module"></span><h1>implementations.convergence_controller_classes.step_size_limiter module<a class="headerlink" href="#module-implementations.convergence_controller_classes.step_size_limiter" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StepSizeLimiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeLimiter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ConvergenceController</span></code></p>
<p>Class to set limits to adaptive step size computation during run time</p>
<p>Please supply dt_min or dt_max in the params to limit in either direction</p>
<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.dependencies">
<span class="sig-name descname"><span class="pre">dependencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeLimiter.dependencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.dependencies" title="Link to this definition">¶</a></dt>
<dd><p>Load the slope limiter if needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>description</strong> (<em>dict</em>) – The description object used to instantiate the controller</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.get_new_step_size">
<span class="sig-name descname"><span class="pre">get_new_step_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeLimiter.get_new_step_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.get_new_step_size" title="Link to this definition">¶</a></dt>
<dd><p>Enforce an upper and lower limit to the step size here.
Be aware that this is only tested when a new step size has been determined. That means if you set an initial
value for the step size outside of the limits, and you don’t do any further step size control, that value will
go through.
Also, the final step is adjusted such that we reach Tend as best as possible, which might give step sizes below
the lower limit set here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>S</strong> (<em>pySDC.Step</em>) – The current step</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeLimiter.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.setup" title="Link to this definition">¶</a></dt>
<dd><p>Define parameters here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – The params passed for this specific convergence controller</p></li>
<li><p><strong>description</strong> (<em>dict</em>) – The description object used to instantiate the controller</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated params dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StepSizeRounding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeRounding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ConvergenceController</span></code></p>
<p>Class to round step size when using adaptive step size selection.</p>
<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding.get_new_step_size">
<span class="sig-name descname"><span class="pre">get_new_step_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeRounding.get_new_step_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding.get_new_step_size" title="Link to this definition">¶</a></dt>
<dd><p>Round step size here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>S</strong> (<em>pySDC.Step</em>) – The current step</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeRounding.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding.setup" title="Link to this definition">¶</a></dt>
<dd><p>Define parameters here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – The params passed for this specific convergence controller</p></li>
<li><p><strong>description</strong> (<em>dict</em>) – The description object used to instantiate the controller</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated params dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StepSizeSlopeLimiter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeSlopeLimiter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ConvergenceController</span></code></p>
<p>Class to set limits to adaptive step size computation during run time</p>
<p>Please supply <cite>dt_slope_min</cite> or <cite>dt_slope_max</cite> in the params to limit in either direction.
You can also supply <cite>dt_rel_min_slope</cite> in order to keep the old step size in case the relative change is smaller
than this minimum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter.get_new_step_size">
<span class="sig-name descname"><span class="pre">get_new_step_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeSlopeLimiter.get_new_step_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter.get_new_step_size" title="Link to this definition">¶</a></dt>
<dd><p>Enforce an upper and lower limit to the slope of the step size here.
The final step is adjusted such that we reach Tend as best as possible, which might give step sizes below
the lower limit set here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>S</strong> (<em>pySDC.Step</em>) – The current step</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">controller</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/implementations/convergence_controller_classes/step_size_limiter.html#StepSizeSlopeLimiter.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter.setup" title="Link to this definition">¶</a></dt>
<dd><p>Define parameters here</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>controller</strong> (<em>pySDC.Controller</em>) – The controller</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – The params passed for this specific convergence controller</p></li>
<li><p><strong>description</strong> (<em>dict</em>) – The description object used to instantiate the controller</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated params dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">implementations.convergence_controller_classes.step_size_limiter module</a><ul>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter"><code class="docutils literal notranslate"><span class="pre">StepSizeLimiter</span></code></a><ul>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.dependencies"><code class="docutils literal notranslate"><span class="pre">dependencies()</span></code></a></li>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.get_new_step_size"><code class="docutils literal notranslate"><span class="pre">get_new_step_size()</span></code></a></li>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeLimiter.setup"><code class="docutils literal notranslate"><span class="pre">setup()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding"><code class="docutils literal notranslate"><span class="pre">StepSizeRounding</span></code></a><ul>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding.get_new_step_size"><code class="docutils literal notranslate"><span class="pre">get_new_step_size()</span></code></a></li>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeRounding.setup"><code class="docutils literal notranslate"><span class="pre">setup()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter"><code class="docutils literal notranslate"><span class="pre">StepSizeSlopeLimiter</span></code></a><ul>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter.get_new_step_size"><code class="docutils literal notranslate"><span class="pre">get_new_step_size()</span></code></a></li>
<li><a class="reference internal" href="#implementations.convergence_controller_classes.step_size_limiter.StepSizeSlopeLimiter.setup"><code class="docutils literal notranslate"><span class="pre">setup()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="implementations.convergence_controller_classes.spread_step_sizes.html"
                          title="previous chapter">implementations.convergence_controller_classes.spread_step_sizes module</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="implementations.convergence_controller_classes.store_uold.html"
                          title="next chapter">implementations.convergence_controller_classes.store_uold module</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/pySDC/implementations.convergence_controller_classes.step_size_limiter.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="implementations.convergence_controller_classes.store_uold.html" title="implementations.convergence_controller_classes.store_uold module"
             >next</a> |</li>
        <li class="right" >
          <a href="implementations.convergence_controller_classes.spread_step_sizes.html" title="implementations.convergence_controller_classes.spread_step_sizes module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pySDC 5.5.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="implementations.html" >implementations package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="implementations.convergence_controller_classes.html" >implementations.convergence_controller_classes package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">implementations.convergence_controller_classes.step_size_limiter module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Robert Speck.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.0.
    </div>
  </body>
</html>