<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Resilience in SDC &#8212; pySDC 5.5.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=2bf1fcf8" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=c40552b6" />
    
    <script src="../_static/documentation_options.js?v=3005adad"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Solving differential algebraic equations with SDC" href="DAE.html" />
    <link rel="prev" title="Parallel-in-time simulation for multi-modal energy systems" href="PinTSimE.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="DAE.html" title="Solving differential algebraic equations with SDC"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="PinTSimE.html" title="Parallel-in-time simulation for multi-modal energy systems"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pySDC 5.5.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Resilience in SDC</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="resilience-in-sdc">
<h1>Resilience in SDC<a class="headerlink" href="#resilience-in-sdc" title="Link to this heading">¶</a></h1>
<p>In this project, we try a few methods for fixing bitflips in the solution caused by external factors such as radiation.
For convenience, we show here plots of tests which are generated by the continuous integration pipeline on GitHub, meaning they are always generated by the latest master branch, while showing explanations in jupyter notebooks, which show only a fixed commit.</p>
<p>The first strategy we try is <a class="reference external" href="https://github.com/Parallel-in-Time/pySDC/blob/master/pySDC/projects/Resilience/Adaptivity.ipynb">Adaptivity</a>, which continually adjusts the step size during run-time and comes with resilience as a by product.</p>
<p>The second strategy is <a class="reference external" href="https://github.com/Parallel-in-Time/pySDC/blob/master/pySDC/projects/Resilience/HotRod.ipynb">Hot Rod</a>, which is designed purely as a detector for soft faults.</p>
<p>We have also simulated faults in the van der Pol problem and tried recovering them with the strategies <a class="reference external" href="https://github.com/Parallel-in-Time/pySDC/blob/master/pySDC/projects/Resilience/ResilienceStatistics.ipynb">here</a>.
We also experimented with faults in the Lorenz attractor problem. See <a class="reference external" href="https://github.com/Parallel-in-Time/pySDC/blob/master/pySDC/projects/Resilience/notes/LorenzResilience.md">Resilience in the Lorenz Attractor</a>.</p>
<section id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Link to this heading">¶</a></h2>
<p>Please refer to the above mentioned notebooks for thorough descriptions of what you are seeing here.
These plots are duplicates of what you can find there, but generated with the latest master branch.</p>
<p>The Piline equation models an electrical start-up process and is a system of ordinary differential equations, that shows some slowing down of the time scale and is hence a good test to check adaptivity with.
See below for, in the order of mention, plots of the solution, the error estimates with difference for Hot Rod and time step with adaptivity enabled and the same with fixed time step and the order of the error estimates with different numbers of sweeps.
The last plot was made without Hot Rod, meaning the last sweep is taken to be the solution of the time step, making it one order higher than the embedded estimate, and it can be seen that the extrapolation error estimate lies on top of the embedded error estimate with one fewer sweep.
These plots were generated with serial SDC.</p>
<a class="reference internal image-reference" href="../_images/piline_solution_adaptive.png"><img alt="../_images/piline_solution_adaptive.png" src="../_images/piline_solution_adaptive.png" style="width: 20%;" />
</a>
<a class="reference internal image-reference" href="../_images/piline_hotrod_adaptive_1procs.png"><img alt="../_images/piline_hotrod_adaptive_1procs.png" src="../_images/piline_hotrod_adaptive_1procs.png" style="width: 24%;" />
</a>
<a class="reference internal image-reference" href="../_images/piline_hotrod_1procs.png"><img alt="../_images/piline_hotrod_1procs.png" src="../_images/piline_hotrod_1procs.png" style="width: 24%;" />
</a>
<a class="reference internal image-reference" href="../_images/error_estimate_order.png"><img alt="../_images/error_estimate_order.png" src="../_images/error_estimate_order.png" style="width: 23%;" />
</a>
<p>We also have an implementation for Block Gauss-Seidel multi-step SDC in a simulated parallelism version without MPI.
You can see the results below, except for the solution, which looks the same as the serial solution to the naked eye.</p>
<a class="reference internal image-reference" href="../_images/piline_hotrod_adaptive_4procs.png"><img alt="../_images/piline_hotrod_adaptive_4procs.png" src="../_images/piline_hotrod_adaptive_4procs.png" style="width: 24%;" />
</a>
<a class="reference internal image-reference" href="../_images/piline_hotrod_4procs.png"><img alt="../_images/piline_hotrod_4procs.png" src="../_images/piline_hotrod_4procs.png" style="width: 24%;" />
</a>
<a class="reference internal image-reference" href="../_images/error_estimate_order_parallel.png"><img alt="../_images/error_estimate_order_parallel.png" src="../_images/error_estimate_order_parallel.png" style="width: 23%;" />
</a>
</section>
<section id="reproduction-of-the-plots-in-the-adaptive-sdc-paper">
<h2>Reproduction of the plots in the adaptive SDC paper<a class="headerlink" href="#reproduction-of-the-plots-in-the-adaptive-sdc-paper" title="Link to this heading">¶</a></h2>
<p>To reproduce the plots you need to install pySDC using this project’s <cite>environment.yml</cite> file, which is in the same directory as this README.
Then, run the following commands in the same directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>compare_strategies<span class="w"> </span>--problem<span class="o">=</span>vdp
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>compare_strategies<span class="w"> </span>--problem<span class="o">=</span>quench
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>compare_strategies<span class="w"> </span>--problem<span class="o">=</span>Schroedinger
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>compare_strategies<span class="w"> </span>--problem<span class="o">=</span>AC

mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>parallel_efficiency<span class="w"> </span>--problem<span class="o">=</span>vdp
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>parallel_efficiency<span class="w"> </span>--problem<span class="o">=</span>quench
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>parallel_efficiency<span class="w"> </span>--problem<span class="o">=</span>Schroedinger
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>parallel_efficiency<span class="w"> </span>--problem<span class="o">=</span>AC

mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>RK_comp<span class="w"> </span>--problem<span class="o">=</span>vdp
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>RK_comp<span class="w"> </span>--problem<span class="o">=</span>quench
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>RK_comp<span class="w"> </span>--problem<span class="o">=</span>Schroedinger
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>RK_comp<span class="w"> </span>--problem<span class="o">=</span>AC

python<span class="w"> </span>paper_plots.py<span class="w"> </span>--target<span class="o">=</span>adaptivity
</pre></div>
</div>
<p>Possibly, you need to create some directories in this one to store and load things, if path errors occur.</p>
</section>
<section id="reproduction-of-the-plots-in-the-resilience-paper">
<h2>Reproduction of the plots in the resilience paper<a class="headerlink" href="#reproduction-of-the-plots-in-the-resilience-paper" title="Link to this heading">¶</a></h2>
<p>To reproduce the plots you need to install pySDC using this project’s <cite>environment.yml</cite> file, which is in the same directory as this README.
Then, run the following commands in the same directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_Lorenz
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_Schroedinger
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_AC
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_RBC
python<span class="w"> </span>paper_plots.py<span class="w"> </span>--target<span class="o">=</span>resilience
</pre></div>
</div>
<p>Please be aware that generating the fault data for Rayleigh-Benard requires generating reference solutions, which may take several hours.</p>
</section>
<section id="reproduction-of-the-plots-in-thomas-baumann-s-thesis">
<h2>Reproduction of the plots in Thomas Baumann’s thesis<a class="headerlink" href="#reproduction-of-the-plots-in-thomas-baumann-s-thesis" title="Link to this heading">¶</a></h2>
<p>To reproduce the plots you need to install pySDC using this project’s <cite>environment.yml</cite> file, which is in the same directory as this README.</p>
<p>To run the resilience experiments, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_Lorenz
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_vdp
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_GS
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>fault_stats.py<span class="w"> </span>prob<span class="w"> </span>run_RBC
</pre></div>
</div>
<p>Please be aware that generating the fault data for Rayleigh-Benard requires generating reference solutions, which may take several hours.
To run the experiments on computational efficiency, run for the choices of problems <cite>vdp</cite>, <cite>Lorenz`</cite>, <cite>GS</cite>, <cite>RBC</cite> the following commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>compare_strategies<span class="w"> </span>--problem<span class="o">=</span>&lt;problem&gt;
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>parallel_efficiency_dt_k<span class="w"> </span>--problem<span class="o">=</span>&lt;problem&gt;
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>parallel_efficiency_dt<span class="w"> </span>--problem<span class="o">=</span>&lt;problem&gt;
mpirun<span class="w"> </span>-np<span class="w"> </span><span class="m">12</span><span class="w"> </span>python<span class="w"> </span>work_precision.py<span class="w"> </span>--mode<span class="o">=</span>RK_comp<span class="w"> </span>--problem<span class="o">=</span>&lt;problem&gt;
</pre></div>
</div>
<p>After you ran all experiments, you can generate the plots with the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>paper_plots.py<span class="w"> </span>--target<span class="o">=</span>thesis
</pre></div>
</div>
<p>As this plotting script also runs a few additional smaller experiments, do not be surprised if it takes a while.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Resilience in SDC</a><ul>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#reproduction-of-the-plots-in-the-adaptive-sdc-paper">Reproduction of the plots in the adaptive SDC paper</a></li>
<li><a class="reference internal" href="#reproduction-of-the-plots-in-the-resilience-paper">Reproduction of the plots in the resilience paper</a></li>
<li><a class="reference internal" href="#reproduction-of-the-plots-in-thomas-baumann-s-thesis">Reproduction of the plots in Thomas Baumann’s thesis</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="PinTSimE.html"
                          title="previous chapter">Parallel-in-time simulation for multi-modal energy systems</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="DAE.html"
                          title="next chapter">Solving differential algebraic equations with SDC</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/projects/Resilience.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="DAE.html" title="Solving differential algebraic equations with SDC"
             >next</a> |</li>
        <li class="right" >
          <a href="PinTSimE.html" title="Parallel-in-time simulation for multi-modal energy systems"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pySDC 5.5.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Resilience in SDC</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Robert Speck.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.0.
    </div>
  </body>
</html>